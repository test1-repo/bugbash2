plugins {
    id "groovy"
}

repositories {
    mavenCentral()
    jcenter()
    maven { url 'https://repo.jenkins-ci.org/public/' }
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.5.8'
    compile 'org.jenkins-ci.main:jenkins-core:2.193'

    // Jenkins plugins
    compile group: 'org.jenkins-ci.plugins', name: 'credentials', version: '2.1.16', ext: 'jar'
    compile group: 'org.jenkins-ci.plugins', name: 'matrix-auth', version: '1.7', ext: 'jar'
    compile group: 'org.jenkins-ci.plugins', name: 'extended-choice-parameter', version: '0.78'
    compile group: 'org.jenkins-ci.plugins.workflow', name: 'workflow-cps', version: '2.41', ext: 'jar'
    compile group: 'org.jenkins-ci.plugins.workflow', name: 'workflow-step-api', version: '2.13', ext: 'jar'

    compile fileTree(dir: 'lib', include: ['*.jar'])

    testCompile group: 'org.spockframework', name: 'spock-core', version: '1.3-groovy-2.4'
    testCompile group: 'com.lesfurets', name: 'jenkins-pipeline-unit', version: '1.1'
}

sourceSets {
    main {
        groovy {
            srcDirs = ['vars', 'src', 'lib']
        }
    }

    test {
        groovy {
            srcDirs = ['test']
        }
    }
}
